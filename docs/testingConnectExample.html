<html>
    <head>
        <script type="text/javascript" src="./modules/ServiceDock_Airtable.js"></script>
    </head>
    <body>
         <div id = "servicedock" style = "float:right;">
            <service-airtable id = "service_airtable"></service-airtable>
        </div>
        <label for="speed_slider">Motor Speed (-100 to 100): </label>
        <input type="range" id="speed_slider" onchange="sendMotorSpeed(this.value)" min="-100" max="100">
    </body>
    <script>
        var myTable = document.getElementById("service_airtable").getService();
        // your API key, base ID, and table name go here
        var apiKey = "keyLWOtjr0x7d8s3l";
        var baseID = "appxDMGNaul3krfkq";
        var tableName = "example_table";

        myTable.init(apiKey, baseID, tableName, 2000)

       /*myTable.executeAfterInit( function () {
            console.log("execute after init start")
            try {
                myTable.setTagValue("motor_speed", 0, function(){console.log("updated tag")})
            } catch (e) {
                if(e.message == "Tag with given name does not exist in the database. Please supply a Name of a Tag that exists on Airtable.") {
                    myTable.createTag("motor_speed", 0, function(){ console.log("created tag")})
                } else {
                    throw e;
                }
            }   
            console.log("execute after init end")
        })*/

        function sendMotorSpeed(speed) {
            myTable.setTagValueNotStrict("motorSpeed", speed)
        }
    </script>
</html>